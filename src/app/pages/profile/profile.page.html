<ng-container *ngIf="player$ | async as player; else loading">
  <app-player-toolbar
    [user]="user$ | async"
    [player]="player"
    (favoriteToggledEvent)="handleFavoriteToggled($event)"
    (dismissClickedEvent)="handleDismissClicked($event);"
  ></app-player-toolbar>

  <app-player-info
    [player]="player"
    [selected]="selectedTab"
    (changeTab)="handleTabChanged($event)"
  ></app-player-info>

  <ion-content class="ion-padding">
    <app-player-content
      [player]="player"
      [selected]="selectedTab"
    ></app-player-content>
  </ion-content>
</ng-container>

<ng-template #loading>
  <div class="spinner">
    <ion-spinner name="crescent"></ion-spinner>
  </div>
</ng-template>
